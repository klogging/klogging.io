"use strict";(self.webpackChunkklogging=self.webpackChunkklogging||[]).push([[4093],{8975:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>c,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var t=r(4848),o=r(5680);const i={sidebar_position:10},c="Klogging and Ktor",a={id:"ktor/ktor",title:"Klogging and Ktor",description:"Klogging can be used in Ktor applications easily.",source:"@site/docs/ktor/ktor.md",sourceDirName:"ktor",slug:"/ktor/",permalink:"/docs/ktor/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"Hexagon microservices toolkit",permalink:"/docs/java/hexagon"},next:{title:"Klogging internal process",permalink:"/docs/concepts/klogging-process"}},s={},l=[{value:"Configuration",id:"configuration",level:2}];function g(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.RP)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"klogging-and-ktor",children:"Klogging and Ktor"}),"\n",(0,t.jsx)(n.p,{children:"Klogging can be used in Ktor applications easily."}),"\n",(0,t.jsxs)(n.p,{children:["Many Ktor JVM modules specify SLF4J as a dependency.\nThe ",(0,t.jsx)(n.a,{href:"https://start.ktor.io/",children:"Ktor Project Generator"})," specifies Logback as a dependency and\ngenerates a ",(0,t.jsx)(n.code,{children:"src/main/resources/logback.xml"})," configuration file."]}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsx)(n.p,{children:"The simplest way to configure Klogging is to replace the Logback dependency with that for Klogging:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:'dependencies {\n    // Ktor engine and plugin dependencies\n    // implementation("ch.qos.logback:logback-classic:$logback_version")\n    implementation("io.klogging:slf4j-klogging:0.5.13")\n\n    // Other dependencies\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Add ",(0,t.jsx)(n.code,{children:"src/main/resources/klogging.json"})," configured as described\nin ",(0,t.jsx)(n.a,{href:"/docs/configuration/json",children:"Configuration with JSON"}),", for example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "sinks": {\n    "stdout": {\n      "renderWith": "RENDER_ANSI",\n      "sendTo": "STDOUT"\n    }\n  },\n  "logging": [\n    {\n      "levelRanges": [\n        {\n          "fromMinLevel": "INFO",\n          "stopOnMatch": true,\n          "toSinks": [\n            "stdout"\n          ]\n        }\n      ]\n    }\n  ]\n}\n'})})]})}function d(e={}){const{wrapper:n}={...(0,o.RP)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},5680:(e,n,r)=>{r.d(n,{RP:()=>l});var t=r(6540);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function c(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?i(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function a(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},i=Object.keys(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=t.createContext({}),l=function(e){var n=t.useContext(s),r=n;return e&&(r="function"==typeof e?e(n):c(c({},n),e)),r},g={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},d=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,d=a(e,["components","mdxType","originalType","parentName"]),p=l(r),u=o,f=p["".concat(s,".").concat(u)]||p[u]||g[u]||i;return r?t.createElement(f,c(c({ref:n},d),{},{components:r})):t.createElement(f,c({ref:n},d))}));d.displayName="MDXCreateElement"}}]);