"use strict";(self.webpackChunkklogging=self.webpackChunkklogging||[]).push([[1136],{5470:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>c,toc:()=>g});var o=r(4848),i=r(5680);const t={sidebar_position:10},l="Defining loggers",c={id:"loggers/defining-loggers",title:"Defining loggers",description:"Klogging provides a number of ways of defining loggers.",source:"@site/docs/loggers/defining-loggers.md",sourceDirName:"loggers",slug:"/loggers/defining-loggers",permalink:"/docs/loggers/defining-loggers",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"From other sources",permalink:"/docs/context/other-context"},next:{title:"Sending log events",permalink:"/docs/logging/sending-logs"}},s={},g=[{value:"Implement <code>Klogging</code> interface",id:"implement-klogging-interface",level:2},{value:"Define a logger directly",id:"define-a-logger-directly",level:2},{value:"Static reference",id:"static-reference",level:2}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,i.RP)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"defining-loggers",children:"Defining loggers"}),"\n",(0,o.jsx)(n.p,{children:"Klogging provides a number of ways of defining loggers."}),"\n",(0,o.jsxs)(n.h2,{id:"implement-klogging-interface",children:["Implement ",(0,o.jsx)(n.code,{children:"Klogging"})," interface"]}),"\n",(0,o.jsxs)(n.p,{children:["The interface ",(0,o.jsx)(n.code,{children:"io.klogging.Klogging"})," includes a ",(0,o.jsx)(n.code,{children:"logger"})," property that returns a\n",(0,o.jsx)(n.code,{children:"Klogger"})," instance with the name of the class. For example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'package com.example\n\nimport io.klogging.Klogging\n\nclass ImportantService : Klogging {\n\n    suspend fun beImportant() {\n        // This logger has the name "com.example.ImportantService".\n        logger.info("Being important")\n    }\n}\n'})}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"Klogging"})," functions are all ",(0,o.jsx)(n.code,{children:"suspend"})," functions to be called in coroutine contexts."]})}),"\n",(0,o.jsxs)(n.p,{children:["Similarly, for non-coroutine contexts, the ",(0,o.jsx)(n.code,{children:"NoCoLogging"})," interface has a ",(0,o.jsx)(n.code,{children:"logger"})," property that\nreturns a ",(0,o.jsx)(n.code,{children:"NoCoLogger"})," instance. ",(0,o.jsx)(n.code,{children:"NoCoLogger"})," has the same functions as ",(0,o.jsx)(n.code,{children:"Klogger"})," but they are\nnot ",(0,o.jsx)(n.code,{children:"suspend"})," functions."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"logger"})," property is not static and its ",(0,o.jsx)(n.code,{children:"get()"})," function is called every time it is\nreferenced. You can define a logger directly if performance is important."]})}),"\n",(0,o.jsx)(n.h2,{id:"define-a-logger-directly",children:"Define a logger directly"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"logger()"})," function defines a logger directly by name, by class or by reified type.\nThe following calls to ",(0,o.jsx)(n.code,{children:"logger"})," are equivalent:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:'package com.example\n\nimport io.klogging.logger\n\nclass BusyService {\n    val loggerByReifiedType = logger<BusyService>()\n    val loggerByClass = logger(BusyService::class)\n    val loggerByName = logger("com.example.BusyService")\n}\n'})}),"\n",(0,o.jsxs)(n.p,{children:["All three ",(0,o.jsx)(n.code,{children:"loggerByReifiedType"}),", ",(0,o.jsx)(n.code,{children:"loggerByClass"})," and ",(0,o.jsx)(n.code,{children:"loggerByName"})," refer to the same logger\ninstance because they have the same name"]}),"\n",(0,o.jsx)(n.h2,{id:"static-reference",children:"Static reference"}),"\n",(0,o.jsx)(n.p,{children:"For a single reference to a logger that is not looked up every time, define it in the companion\nobject of a class:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-kotlin",children:"class VeryBusyService {\n    companion object {\n        logger = logger<VeryBusyService>()\n    }\n}\n"})})]})}function d(e={}){const{wrapper:n}={...(0,i.RP)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},5680:(e,n,r)=>{r.d(n,{RP:()=>g});var o=r(6540);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function t(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(n){i(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function c(e,n){if(null==e)return{};var r,o,i=function(e,n){if(null==e)return{};var r,o,i={},t=Object.keys(e);for(o=0;o<t.length;o++)r=t[o],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(o=0;o<t.length;o++)r=t[o],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var s=o.createContext({}),g=function(e){var n=o.useContext(s),r=n;return e&&(r="function"==typeof e?e(n):l(l({},n),e)),r},a={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var r=e.components,i=e.mdxType,t=e.originalType,s=e.parentName,d=c(e,["components","mdxType","originalType","parentName"]),p=g(r),f=i,h=p["".concat(s,".").concat(f)]||p[f]||a[f]||t;return r?o.createElement(h,l(l({ref:n},d),{},{components:r})):o.createElement(h,l({ref:n},d))}));d.displayName="MDXCreateElement"}}]);